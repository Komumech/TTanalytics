<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Tech Analytics</title>
    <link rel="stylesheet" href="home.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- We'll use a pre-loaded font from a CDN for simplicity -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/FontLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/geometries/TextGeometry.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <style>

        #starfield-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
        }

        #canvas-container {
            width: 80vw;
            height: 80vh;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            margin-top: 50px;
            margin-bottom: 50px;
            background-color: transparent; /* Changed to transparent */
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .scroll-down-btn {
            position: fixed;
            bottom: 50%;
            right: 20px;
            transform: translateY(50%);
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.5);
            color: white;
            font-size: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 100;
        }

        .scroll-down-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.8);
            transform: translateY(50%) translateX(-5px);
        }
    </style>
</head>
<body class="bg-black text-white font-roboto">
    <div id="starfield-container"></div>
    <nav class="navbar" id="navbar">
        <div class="logo-div">
            <img src="logo.png" alt="" class="logo">
            <p class="logo-txt">Team Tech Analytics</p>
        </div>
        <ul class="nav-links">
            <li><a href="">About Us</a></li>
            <li><a href="">Services</a></li>
            <li><a href="">Contact</a></li>
            <li><a href="">Testimonials</a></li>
        </ul>
    </nav>
    <!-- Moved sect4 to the top -->
    <div class="sect4">
     <div class="new">
        <img src="bg4.webp" alt="" class="sect3-img">
        </div>
        <p class="sect4-txt">
            <br>
            <span class="header2">Unlock<br>The Power of <br>Your Data.</span>
            <br>
            <span class="under-tag2">Transforming raw data into actionable strategies that drive growth and efficiency</span>
            <br>
            <span class="read-more"><button class="learn-more-button">Book a Call</button></span>
        </p>
    </div>
    <div class="main-container">
        <div class="video-class">
            <video src="vid1.mp4" class="vid2" autoplay loop muted width="500" height="300" poster="bg1.png"></video>
        </div>
        <div class="content-container">
            <h1 class="header small1">
                Your Partner<br>in Data-Driven<br>Innovation
            </h1>
            <p class="text-under-header small">
                In today's competitive landscape, data is your most valuable asset. T&T Analytics provides the expertise you need to harness this power. 
            </p>
            <button class="learn-more-button">
                Book a Call
            </button>
        </div>
        <!-- New scroll-down button -->
        <button class="scroll-down-btn" onclick="scrollToNextSection()">
            &darr;
        </button>
    </div>
    <div class="sect2">
        <div class="imgsect img1">
            <p class="txt">REPORT</p>
            <p class="txt topic">AI in the Real World<br></p>
            <p class="txt2">Discover how AI is transforming everyday business operations, from automating customer service to predicting market trends.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img2">
            <p class="txt">REPORT</p>
            <p class="txt topic">The Data Advantage<br></p>
            <p class="txt2">Unlock your company's most powerful asset. This guide shows you how to turn raw data into a strategic advantage for smarter decision-making.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img3">
            <p class="txt">REPORT</p>
            <p class="txt topic">Future of Automation<br></p>
            <p class="txt2">Don't just adapt—get ahead. Explore what's next for business automation and learn how to future-proof your workflows for a more efficient tomorrow.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img4">
            <p class="txt">REPORT</p>
            <p class="txt topic">Cybersecurity in the AI Era<br></p>
            <p class="txt2">As AI reshapes business, this essential guide provides the roadmap to protecting your data and systems in an AI-driven world.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img5">
            <p class="txt">REPORT</p>
            <p class="txt topic">Your Data, Your Story<br></p>
            <p class="txt2">Data isn't just numbers—it's a narrative. Learn how to use powerful data visualization to reveal hidden insights and opportunities within your business.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img6">
            <p class="txt">REPORT</p>
            <p class="txt topic">The Power of Predictive Analytics<br></p>
            <p class="txt2">Anticipate what's next. Master predictive analytics to forecast market shifts, stay ahead of the competition, and proactively meet customer needs.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img7">
            <p class="txt">REPORT</p>
            <p class="txt topic">Building an Efficient Team?<br></p>
            <p class="txt2">Discover how integrating intelligent automation can free up your team, empowering them to focus on what matters most.</p>
            <p class="explore-btn">Explore <span class="font-sizeinc">></span></p>
        </div>
        <div class="imgsect img8">
            <p class="txt black">REPORT</p>
            <p class="txt topic black">Ethical AI: A Business Imperative<br></p>
            <p class="txt2 black">Beyond the hype, responsible AI is a cornerstone of success. Explore why ethical development is essential for building long-term trust.</p>
            <p class="explore-btn black footer-link">Explore <span class="font-sizeinc">></span></p>
        </div>
    </div>
    <div class="sect3">
        <div class="img-tag">
            <img src="avatar-placeholder.avif" alt="" class="tag-img">
        </div>
        <div class="text-sect3">
            <p class="tag">"Uncle Your quote and picture will be here."</p>
            <p class="under-tag">Uncle Jesam's quote<br> <span class="read-more">Read more <button class="read-more-btn">></button></span></p>
        </div>
    </div>
    <!-- Added a second sect4 at the bottom -->
    <div class="sect4">
        <div class="image-wrapper">
        <div class="img-sect3">
        <img src="bg4.webp" alt="" class="sect3-img">
        </div>
        </div>
<div class="sect4-txt2">
   <p class="header shorter">Empowering businesses with strategic AI and data insights.
    <br><span class="read-more">About Us <button class="read-more-btn">></button></span>
    </p> 
        </div>
</div>
    </div>
        <button id="scroll-right-btn" class="scroll-button right-btn">
<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>
</div>
</div>
    </div>

<div class="footer">
    <div class="links">
        <div class="contact-links">
            <a href="#" class="footer-link">Book a Call</a>
            <a href="#" class="footer-link">AI Chat</a>
            <a href="#" class="footer-link">Social Media</a>
            <a href="#" class="footer-link">About us</a>
            <a href="#" class="footer-link">Services</a>
            <a href="#" class="footer-link">Testimonials</a>
        </div>
    </div>
            <div class="design-foot">
            <p class="ftxt1 zind1">Unlock</p>
            <p class="ftxt1 zind2">Unlock</p>
            <p class="ftxt1 zind3">Unlock</p>
            <p class="ftxt1 zind4">Unlock</p>
            <p class="ftxt1 zind5">Unlock</p>
            <p class="ftxt1 zind6">Unlock</p>
            <p class="ftxt1 zind7">Unlock</p>
        </div>
        <p class="footerp">© 2025 Team Tech Analytics. All rights reserved.</p>
        
</div>

        </div>

     
    </div>
    <div id="canvas-container"></div>
<script>
    let prevScrollPos = window.pageYOffset;

    window.onscroll = function() {
        let currentScrollPos = window.pageYOffset;

        if (prevScrollPos > currentScrollPos) {
            // User is scrolling up, show the navbar
            document.getElementById("navbar").style.top = "0";
        } else {
            // User is scrolling down, hide the navbar by moving it up
            document.getElementById("navbar").style.top = "-80px"; // Adjust this value to the navbar's height
        }
        prevScrollPos = currentScrollPos;
    }

    // Store all sections in an ordered array for easy lookup
    // The querySelectorAll will automatically grab both `.sect4` elements in the correct order.
    const sections = document.querySelectorAll('.sect4, .main-container, .sect2, .sect3, .sect5');

    function scrollToNextSection() {
        // Find the current scroll position
        const currentScrollPos = window.scrollY;

        // Find the index of the first section that is below the current viewport
        let nextSectionIndex = -1;
        for (let i = 0; i < sections.length; i++) {
            // Check if the section's top is below or near the current scroll position
            // Adding a small buffer (e.g., 50) to account for slight scrolling variations
            if (sections[i].offsetTop > currentScrollPos + 50) {
                nextSectionIndex = i;
                break;
            }
        }

        // If a next section is found, scroll to it
        if (nextSectionIndex !== -1) {
            sections[nextSectionIndex].scrollIntoView({ behavior: 'smooth' });
        } else {
            // If we are at the last section, scroll back to the top
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }
    }

    gsap.registerPlugin(ScrollTrigger);
    
    // --- Three.js Starfield Background ---
    let starScene, starCamera, starRenderer, stars;
    const numStars = 50000;
    const starDistance = 2000;
    const scrollFactor = 2; // How fast the stars move on scroll

    function initStarfield() {
        const container = document.getElementById('starfield-container');
        starScene = new THREE.Scene();
        starCamera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 3000);
        starCamera.position.z = starDistance;

        starRenderer = new THREE.WebGLRenderer({ alpha: true });
        starRenderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(starRenderer.domElement);

        const starGeometry = new THREE.BufferGeometry();
        const starVertices = [];
        const starColors = [];
        const starSizes = [];
        
        for (let i = 0; i < numStars; i++) {
            // Increased the range for x and y to make the stars appear more widespread
            const x = THREE.MathUtils.randFloatSpread(starDistance * 4);
            const y = THREE.MathUtils.randFloatSpread(starDistance * 4);
            const z = THREE.MathUtils.randFloatSpread(starDistance * 2);

            starVertices.push(x, y, z);
            starSizes.push(Math.random() * 2 + 1); // Random size between 1 and 3

            // Set all stars to white by pushing R, G, B values of 1.0, 1.0, 1.0
            starColors.push(1.0, 1.0, 1.0);
        }

        starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
        starGeometry.setAttribute('color', new THREE.Float32BufferAttribute(starColors, 3));
        starGeometry.setAttribute('size', new THREE.Float32BufferAttribute(starSizes, 1));
        
        // --- Create a custom texture for the stars to make them "shapeless" ---
        const starTextureCanvas = document.createElement('canvas');
        starTextureCanvas.width = 64;
        starTextureCanvas.height = 64;
        const starContext = starTextureCanvas.getContext('2d');
        
        const gradient = starContext.createRadialGradient(
            starTextureCanvas.width / 2,
            starTextureCanvas.height / 2,
            0,
            starTextureCanvas.width / 2,
            starTextureCanvas.height / 2,
            starTextureCanvas.width / 2
        );
        gradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
        gradient.addColorStop(0.2, 'rgba(255, 255, 255, 0.8)');
        gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
        starContext.fillStyle = gradient;
        starContext.fillRect(0, 0, starTextureCanvas.width, starTextureCanvas.height);

        const starTexture = new THREE.CanvasTexture(starTextureCanvas);

        const starMaterial = new THREE.PointsMaterial({
            size: 7, // Increased size to make the fuzzy texture more visible
            map: starTexture, // Apply the custom texture
            vertexColors: true,
            transparent: true,
            opacity: 0.8,
            sizeAttenuation: true
        });
        stars = new THREE.Points(starGeometry, starMaterial);
        starScene.add(stars);

        window.addEventListener('resize', onStarfieldResize, false);
        animateStarfield();

        // GSAP and ScrollTrigger for the starfield zoom effect
        gsap.to(starCamera.position, {
            z: -starDistance, // Move camera to create zoom effect
            ease: "none",
            scrollTrigger: {
                trigger: "body",
                start: "top top",
                end: "bottom bottom",
                scrub: true,
                onUpdate: self => {
                    // Loop the zoom effect
                    const progress = self.progress;
                    const z = starDistance - (progress * starDistance * 2);
                    starCamera.position.z = z;
                    
                    // Check if stars have passed the camera and reposition them
                    const positions = stars.geometry.attributes.position.array;
                    for (let i = 0; i < positions.length; i += 3) {
                        // If the star moves past the camera's far-z plane (when scrolling down), move it back
                        if (positions[i + 2] < starCamera.position.z - starDistance) {
                            positions[i + 2] += starDistance * 2;
                        }
                        // If the star moves past the camera's near-z plane (when scrolling up), move it forward
                        else if (positions[i + 2] > starCamera.position.z + starDistance) {
                            positions[i + 2] -= starDistance * 2;
                        }
                    }
                    stars.geometry.attributes.position.needsUpdate = true;
                }
            }
        });
    }

    function onStarfieldResize() {
        starCamera.aspect = window.innerWidth / window.innerHeight;
        starCamera.updateProjectionMatrix();
        starRenderer.setSize(window.innerWidth, window.innerHeight);
    }

    function animateStarfield() {
        requestAnimationFrame(animateStarfield);
        
        // Adjust starfield rotation based on mouse position
        const rotationFactor = 0.005; 
        stars.rotation.y += (mouseX * rotationFactor - stars.rotation.y) * 0.05;
        stars.rotation.x += (mouseY * rotationFactor - stars.rotation.x) * 0.05;

        starRenderer.render(starScene, starCamera);
    }

    ScrollTrigger.matchMedia({

        // Desktop animation (for screens wider than 768px)
        "(min-width: 769px)": function() {
            console.log("Desktop Animation Active"); // For debugging
            gsap.utils.toArray(".sect3-img").forEach(img => {
                gsap.to(img, {
                    scale: 0.5, // Shrink to 50% of original size
                    x: -300, // Move the image 250 pixels to the left
                    transformOrigin: "center center",
                    ease: "none",
                    scrollTrigger: {
                        trigger: img,
                        start: "top top",
                        scrub: 1,
                        end: "+=100", // Animation lasts for 900px of scrolling after the start point. (Note: changed from -=900 which is invalid in most cases for 'end')
                        pin: true,
                        //markers: true, // Keep markers for debugging desktop
                    }
                });
            });
        },

        // Mobile animation (for screens up to 768px)
        "(max-width: 768px)": function() {
            console.log("Mobile Animation Active"); // For debugging
            gsap.utils.toArray(".sect3-img").forEach(img => {
                gsap.fromTo(
                    img,
                    { scale: 1.7 },
                    {
                        scale: 1,
                        x: 20, // Optional: keep slight horizontal movement
                        transformOrigin: "center center",
                        ease: "none",
                        scrollTrigger: {
                            trigger: img.parentElement, // Trigger on the parent section for better control
                            start: "top 10%", // Start the animation when the section enters the bottom 20% of the viewport
                            end: "bottom top", // End the animation when the section leaves the top of the viewport
                            scrub: 1,
                            pin: true,
                            //markers: true, // Uncomment for debugging
                        }
                    }
                );
            });
        },

        // "all" breakpoint for anything that should run regardless of screen size
        "all": function() {
            // You could put common setup here if needed
            // For example, if you wanted transformOrigin to always be center center for all breakpoints,
            // you could set it with gsap.set(".sect3-img", { transformOrigin: "center center" });
        }

    }); // <-- This is the crucial closing brace and parenthesis for ScrollTrigger.matchMedia()



    // Global variables for scene, camera, and renderer
    let scene, camera, renderer;
    let textMesh;
    let mouseX = 0, mouseY = 0;

    // The text content for the 3D model
    const textContent = "";

    // Define the colors from the provided theme for interpolation
    const lightBlue = new THREE.Color(0x0055ff); 
    const darkBlue = new THREE.Color(0x2552ac); 
    const accentColor = new THREE.Color(0x003cff); 

    // --- Initialization function ---
    function init() {
        const container = document.getElementById('canvas-container');

        // 1. Create the scene
        scene = new THREE.Scene();
        
        // 2. Create the camera
        camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        camera.position.z = 6;

        // 3. Create the renderer
        renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        // Set a transparent background for the renderer
        renderer.setClearColor(0x000000, 0); 
        container.appendChild(renderer.domElement);

        // 4. Add multiple lights for a more beautiful effect
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);

        const pointLight1 = new THREE.PointLight(0xff00ff, 1.5);
        pointLight1.position.set(5, 5, 5);
        scene.add(pointLight1);

        const pointLight2 = new THREE.PointLight(0x00ffff, 1.5);
        pointLight2.position.set(-5, -5, -5);
        scene.add(pointLight2);

        // 5. Load the font and create the 3D text
        const fontLoader = new THREE.FontLoader();
        fontLoader.load('https://cdn.jsdelivr.net/npm/three@0.128.0/examples/fonts/gentilis_regular.typeface.json', function (font) {
            const textGeometry = new THREE.TextGeometry(textContent, {
                font: font,
                size: 2,
                height: 0.5,
                curveSegments: 12,
                bevelEnabled: true,
                bevelThickness: 0.1,
                bevelSize: 0.08,
                bevelOffset: 0,
                bevelSegments: 10 // Increased segments for smoother edges
            });

            textGeometry.center();

            const textMaterial = new THREE.MeshStandardMaterial({
                color: 0xffffff,
                roughness: 0.4,
                metalness: 0.2
            });
            textMesh = new THREE.Mesh(textGeometry, textMaterial);
            scene.add(textMesh);
        });

        // 6. Handle window resizing
        window.addEventListener('resize', onWindowResize, false);

        // 7. Handle mouse movement for interaction
        document.addEventListener('mousemove', onDocumentMouseMove, false);

        // Start the animation loop
        animate();
    }

    // --- Resizing handler ---
    function onWindowResize() {
        const container = document.getElementById('canvas-container');
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
    }

    // --- Mouse movement handler ---
    function onDocumentMouseMove(event) {
        const container = document.getElementById('canvas-container');
        const rect = container.getBoundingClientRect();

        // Normalize mouse position relative to the container div
        mouseX = ((event.clientX - rect.left) / rect.width) * 2 - 1;
        mouseY = -((event.clientY - rect.top) / rect.height) * 2 + 1;
    }

    // --- Animation loop ---
    function animate() {
        requestAnimationFrame(animate);

        if (textMesh) {
            // Adjust text rotation based on mouse position for a slight tilt effect
            const tiltFactor = 0.05; // Reduced tilt factor for a smoother transition
            textMesh.rotation.y += (mouseX * tiltFactor - textMesh.rotation.y) * 0.02;
            textMesh.rotation.x += (mouseY * tiltFactor - textMesh.rotation.x) * 0.02;

            // Create a temporary color object for interpolation
            const tempColor = new THREE.Color();

            // Interpolate between the two blue colors based on mouseX
            tempColor.lerpColors(lightBlue, darkBlue, (mouseX + 1) / 2);

            // Interpolate this result with the accent color based on mouseY
            textMesh.material.color.lerpColors(tempColor, accentColor, (mouseY + 1) / 2);
        }

        renderer.render(scene, camera);
    }

    // Start the application when the window loads
    window.onload = function() {
        init();
        initStarfield();
        startAutoScroll();
    };

    const scrollContainer = document.querySelector('.sect2b');
    const scrollAmount = 18 * 18; // 16rem to pixels (assuming 1rem = 16px)
    let scrollTarget = 0;
    let currentScroll = 0;
    let isScrolling = false;
    let scrollInterval;

    function autoScroll() {
        isScrolling = true;
        const targetScrollLeft = scrollTarget;
        const animationDuration = 1000; // 1 second for the animation
        let startTime = null;

        function animateScroll(timestamp) {
            if (!startTime) startTime = timestamp;
            const elapsedTime = timestamp - startTime;
            const progress = Math.min(elapsedTime / animationDuration, 1);

            // Linear interpolation for smooth movement
            const newScrollLeft = currentScroll + (targetScrollLeft - currentScroll) * progress;
            scrollContainer.scrollLeft = newScrollLeft;

            if (progress < 1) {
                requestAnimationFrame(animateScroll);
            } else {
                currentScroll = scrollContainer.scrollLeft;
                isScrolling = false;
            }
        }
        requestAnimationFrame(animateScroll);
    }

    function startAutoScroll() {
        scrollInterval = setInterval(() => {
            if (isScrolling) return; // Prevent new scroll if already animating

            const atEnd = scrollContainer.scrollLeft + scrollContainer.clientWidth >= scrollContainer.scrollWidth - 1; // Subtract 1 for minor floating point issues

            if (atEnd) {
                // If at the end, set the target back to the start
                scrollTarget = 0;
            } else {
                // Otherwise, increment the target
                scrollTarget += scrollAmount;
            }

            autoScroll(); // Start the new animation
        }, 5000); // 5000 milliseconds = 5 seconds
    }

    function stopAutoScroll() {
        clearInterval(scrollInterval);
    }
    
    // Optional: Stop scrolling on user interaction
    scrollContainer.addEventListener('mouseenter', stopAutoScroll);
    scrollContainer.addEventListener('mouseleave', startAutoScroll);

</script>
</body>
</html>
